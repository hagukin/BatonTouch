<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>코멘트 프로토타입</title>
</head>
<script src="https://code.jquery.com/jquery-1.12.4.js" 
integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" 
crossorigin="anonymous">
</script>
<script>
    var texts = [];
    function dosomething(){
        
        texts.push(document.getElementById('user_tbox').value);
        if($('#tbox_list').children('li').length <= 2){ //총 3개까지 화면에 표시
            $('#tbox_list').prepend('<li><textarea>' + texts[texts.length - 1] + '</textarea></li>');

            var list_items = $('#tbox_list').children('li');
            $(list_items[0]).attr('id','tbox_list_' + String(0));
            return;
        }
        else{
            texts.push(document.getElementById('user_tbox').value);

            $('#tbox_list').prepend('<li><textarea>' + texts[texts.length - 1] + '</textarea></li>');
            var list_items = $('#tbox_list').children('li');
            $(list_items[0]).attr('id','tbox_list_' + String(0));

            list_items.map(function(index, elem){
                $(elem).attr('id','tbox_list_' + String(index + 1));
                if(index > 2){
                    list_items.remove('#tbox_list_4');
                }
            })
        }

    }
    
</script>
<body>
    <textarea id="user_tbox" name="tbox1" cols="30" rows="10"></textarea>
    <input type="button" value="확인" onclick="dosomething()">
    <ul id="tbox_list">

    </ul>
</body>
</html>