{"ast":null,"code":"var _jsxFileName = \"/home/habin/\\uB9B4\\uB808\\uC774\\uC18C\\uC124\\uD504\\uB85C\\uC81D\\uD2B8/BatonTouch/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC/\\uD504\\uB85C\\uD1A0\\uD0C0\\uC785/my-app/src/new_components/MainSection/VoteSentenceBox/VoteSentenceBox.jsx\";\nimport React from \"react\";\nimport SelectedSentence from \"./SelectedSentence\";\nimport VoteTool from \"./VoteTool\";\nimport \"./VoteSentenceBox.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass VoteSentenceBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearchSentence = direction => {\n      if (direction === \"next\") {\n        if (this.state.selectedId.slice(4) !== String(this.props.data.length - 1)) {\n          this.setState(prevState => ({\n            selectedId: \"sub_\" + (parseInt(prevState.selectedId.slice(4)) + 1)\n          }));\n        }\n      } else if (direction === \"prev\") {\n        if (this.state.selectedId.slice(4) !== \"0\") {\n          this.setState(prevState => ({\n            selectedId: \"sub_\" + (parseInt(prevState.selectedId.slice(4)) - 1)\n          }));\n        }\n      }\n    };\n\n    this.handleVoteSentence = () => {\n      // if (cookie){\n      //   alert\n      // } else{\n      //   onAddVote\n      //   setcookie\n      // }\n      this.props.onAddRecommend(this.state.selectedId);\n    };\n\n    this.state = {// selectedId: \"sub_0\",\n    };\n  } // TODO: 추천변화 서버 PATCH후 FORCEUPDATE\n\n\n  render() {\n    // const selectedData = this.props.data.find((elem) => elem.id === this.state.selectedId);\n    // return (\n    //   <div className=\"VoteSentenceBox\">\n    //     <SelectedSentence text={selectedData.text} />\n    //     <VoteTool recommend={selectedData.recommend} onVoteSentence={this.handleVoteSentence} onSearchSentence={this.handleSearchSentence} />\n    //   </div>\n    // );\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"VoteSentenceBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: this.props.selectedData.writer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: this.props.selectedData.date.slice(0, 10)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SelectedSentence, {\n        text: this.props.selectedData.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VoteTool, {\n        down: this.props.selectedData.downvote,\n        up: this.props.selectedData.upvote,\n        onVoteSentence: this.handleVoteSentence,\n        onSearchSentence: this.handleSearchSentence\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this);\n  }\n\n  setCookie(name, value, exp) {\n    var date = new Date();\n    date.setTime(date.getTime() + exp * 24 * 60 * 60 * 1000);\n    document.cookie = name + \"=\" + value + \";expires=\" + date.toUTCString() + \";path=/\";\n  }\n\n}\n\nexport default VoteSentenceBox;","map":{"version":3,"sources":["/home/habin/릴레이소설프로젝트/BatonTouch/프론트엔드/프로토타입/my-app/src/new_components/MainSection/VoteSentenceBox/VoteSentenceBox.jsx"],"names":["React","SelectedSentence","VoteTool","VoteSentenceBox","Component","constructor","props","handleSearchSentence","direction","state","selectedId","slice","String","data","length","setState","prevState","parseInt","handleVoteSentence","onAddRecommend","render","selectedData","writer","date","content","downvote","upvote","setCookie","name","value","exp","Date","setTime","getTime","document","cookie","toUTCString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport SelectedSentence from \"./SelectedSentence\";\nimport VoteTool from \"./VoteTool\";\nimport \"./VoteSentenceBox.css\";\nclass VoteSentenceBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // selectedId: \"sub_0\",\n    };\n  }\n\n  // TODO: 추천변화 서버 PATCH후 FORCEUPDATE\n\n  render() {\n    // const selectedData = this.props.data.find((elem) => elem.id === this.state.selectedId);\n\n    // return (\n    //   <div className=\"VoteSentenceBox\">\n    //     <SelectedSentence text={selectedData.text} />\n    //     <VoteTool recommend={selectedData.recommend} onVoteSentence={this.handleVoteSentence} onSearchSentence={this.handleSearchSentence} />\n    //   </div>\n    // );\n    return (\n      <div className=\"VoteSentenceBox\">\n        <span>{this.props.selectedData.writer}</span>\n        <span>{this.props.selectedData.date.slice(0, 10)}</span>\n        <SelectedSentence text={this.props.selectedData.content} />\n        <VoteTool down={this.props.selectedData.downvote} up={this.props.selectedData.upvote} onVoteSentence={this.handleVoteSentence} onSearchSentence={this.handleSearchSentence} />\n      </div>\n    );\n  }\n\n  handleSearchSentence = (direction) => {\n    if (direction === \"next\") {\n      if (this.state.selectedId.slice(4) !== String(this.props.data.length - 1)) {\n        this.setState((prevState) => ({\n          selectedId: \"sub_\" + (parseInt(prevState.selectedId.slice(4)) + 1),\n        }));\n      }\n    } else if (direction === \"prev\") {\n      if (this.state.selectedId.slice(4) !== \"0\") {\n        this.setState((prevState) => ({\n          selectedId: \"sub_\" + (parseInt(prevState.selectedId.slice(4)) - 1),\n        }));\n      }\n    }\n  };\n\n  handleVoteSentence = () => {\n    // if (cookie){\n    //   alert\n    // } else{\n    //   onAddVote\n    //   setcookie\n    // }\n    this.props.onAddRecommend(this.state.selectedId);\n  };\n\n  setCookie(name, value, exp) {\n    var date = new Date();\n    date.setTime(date.getTime() + exp * 24 * 60 * 60 * 1000);\n    document.cookie = name + \"=\" + value + \";expires=\" + date.toUTCString() + \";path=/\";\n  }\n}\nexport default VoteSentenceBox;\n"]},"metadata":{},"sourceType":"module"}