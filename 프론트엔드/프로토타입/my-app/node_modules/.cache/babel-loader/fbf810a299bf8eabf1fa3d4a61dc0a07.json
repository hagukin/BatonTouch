{"ast":null,"code":"var _jsxFileName = \"/home/habin/\\uB9B4\\uB808\\uC774\\uC18C\\uC124\\uD504\\uB85C\\uC81D\\uD2B8/BatonTouch/\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC/\\uD504\\uB85C\\uD1A0\\uD0C0\\uC785/my-app/src/components/writeNovel/cbox_list.js\";\nimport React, { Component } from 'react';\nimport Cbox from './simple_cbox';\n/*\nsimple_cbox의 집합을 관리하는 컴포넌트 입니다.\n본문, 주석 내용을 상위 컴포넌트에서 받아와 이를 하위 컴포넌트인 Cbox에 분배하는 역활을 담당합니다.\n본문, 주석 내용은 배열의 형태로 저장하며, 이는 사용자 조작(btn)에 의하여 변경됩니다.\n\nprops\n1. initialContent: 컴포넌트가 처음 마운트될때 Cbox에 분배할 내용을 가지고 있는 배열입니다. \n본문내용은 writeMain, 주석내용은 writeCmt로 정의되어야 합니다.\n\n2. cboxOnPage: 한페이지에 나타낼 Cbox의 수를 정의하는 정수입니다.\n\n3. callListContent(howMany, startIdx): startIdx의 다음 인덱스부터 howMany만큼을 initialContent와 같은 형식의 배열을 상위 컴포넌트로 부터\n반환 받습니다.\n-> 상위 컴포넌트의 state의 변화를 주지는 않습니다.\n\n4. onRecommClick: 추천수의 변화를 상위 컴포넌트에 알립니다.\n-> 상위 컴포넌트의 state중 recomm에 관한 정보를 저장하는 배열을 수정합니다.\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CboxList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cboxContents: this.props.initialContent,\n      cboxOnPage: this.props.cboxOnPage,\n      lastIdx: -1 + this.props.initialContent.length,\n      firstIdx: 0\n    };\n    this.onBtnNextClick = this.onBtnNextClick.bind(this);\n    this.onBtnPrevClick = this.onBtnPrevClick.bind(this);\n  }\n\n  onBtnNextClick() {\n    var newContent = [];\n\n    if (this.state.lastIdx + this.state.cboxOnPage <= this.props.cboxListMaxIdx) {\n      newContent = this.props.callListContent(this.state.cboxOnPage, this.state.lastIdx);\n      this.setState({\n        cboxContents: newContent,\n        cboxOnPage: this.state.cboxOnPage,\n        lastIdx: this.state.lastIdx + newContent.length,\n        firstIdx: this.state.lastIdx + 1 // 비 동기적이므로 가능한 코드\n\n      });\n    } else if (this.state.lastIdx < this.props.cboxListMaxIdx) {\n      newContent = this.props.callListContent(this.props.cboxListMaxIdx - this.state.lastIdx, this.state.lastIdx);\n      this.setState({\n        cboxContents: newContent,\n        cboxOnPage: this.state.cboxOnPage,\n        lastIdx: this.state.lastIdx + newContent.length,\n        firstIdx: this.state.lastIdx + 1\n      });\n    }\n  }\n\n  onBtnPrevClick() {\n    var newContent = [];\n\n    if (this.state.firstIdx - this.state.cboxOnPage >= 0) {\n      newContent = this.props.callListContent(this.state.cboxOnPage, this.state.firstIdx - this.state.cboxOnPage - 1);\n      this.setState({\n        cboxContents: newContent,\n        cboxOnPage: this.state.cboxOnPage,\n        lastIdx: this.state.firstIdx - 1,\n        firstIdx: this.state.firstIdx - newContent.length\n      });\n    } else if (this.state.firstIdx > 0) {\n      newContent = this.props.callListContent(this.state.firstIdx, -1);\n      this.setState({\n        cboxContents: newContent,\n        cboxOnPage: this.state.cboxOnPage,\n        lastIdx: this.state.firstIdx - 1,\n        firstIdx: this.state.firstIdx - newContent.length\n      });\n    }\n  }\n\n  render() {\n    var CboxList = [];\n\n    for (var i = 0; i < this.state.cboxContents.length; i++) {\n      CboxList.push( /*#__PURE__*/_jsxDEV(Cbox, {\n        id: this.state.cboxContents[i].id,\n        Main: this.state.cboxContents[i].writeMain,\n        Cmt: this.state.cboxContents[i].writeCmt,\n        Recomm: this.state.cboxContents[i].recomm,\n        onRecommClick: function (id) {\n          this.props.onRecommClick(id, this.state.firstIdx, this.state.lastIdx);\n        }.bind(this)\n      }, this.state.cboxContents[i].id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 27\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [CboxList, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.onBtnPrevClick,\n        children: \"\\uC774\\uC804\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.onBtnNextClick,\n        children: \"\\uB2E4\\uC74C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CboxList;","map":{"version":3,"sources":["/home/habin/릴레이소설프로젝트/BatonTouch/프론트엔드/프로토타입/my-app/src/components/writeNovel/cbox_list.js"],"names":["React","Component","Cbox","CboxList","constructor","props","state","cboxContents","initialContent","cboxOnPage","lastIdx","length","firstIdx","onBtnNextClick","bind","onBtnPrevClick","newContent","cboxListMaxIdx","callListContent","setState","render","i","push","id","writeMain","writeCmt","recomm","onRecommClick"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Cbox from './simple_cbox';\n\n/*\nsimple_cbox의 집합을 관리하는 컴포넌트 입니다.\n본문, 주석 내용을 상위 컴포넌트에서 받아와 이를 하위 컴포넌트인 Cbox에 분배하는 역활을 담당합니다.\n본문, 주석 내용은 배열의 형태로 저장하며, 이는 사용자 조작(btn)에 의하여 변경됩니다.\n\nprops\n1. initialContent: 컴포넌트가 처음 마운트될때 Cbox에 분배할 내용을 가지고 있는 배열입니다. \n본문내용은 writeMain, 주석내용은 writeCmt로 정의되어야 합니다.\n\n2. cboxOnPage: 한페이지에 나타낼 Cbox의 수를 정의하는 정수입니다.\n\n3. callListContent(howMany, startIdx): startIdx의 다음 인덱스부터 howMany만큼을 initialContent와 같은 형식의 배열을 상위 컴포넌트로 부터\n반환 받습니다.\n-> 상위 컴포넌트의 state의 변화를 주지는 않습니다.\n\n4. onRecommClick: 추천수의 변화를 상위 컴포넌트에 알립니다.\n-> 상위 컴포넌트의 state중 recomm에 관한 정보를 저장하는 배열을 수정합니다.\n*/\nclass CboxList extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            cboxContents: this.props.initialContent,\n            cboxOnPage: this.props.cboxOnPage,\n            lastIdx:(-1 + this.props.initialContent.length),\n            firstIdx: 0,\n        }\n        this.onBtnNextClick = this.onBtnNextClick.bind(this);\n        this.onBtnPrevClick = this.onBtnPrevClick.bind(this);\n    }\n    \n\n    onBtnNextClick(){\n        var newContent = [];\n        if(this.state.lastIdx + this.state.cboxOnPage <= this.props.cboxListMaxIdx){\n            newContent = this.props.callListContent(this.state.cboxOnPage, this.state.lastIdx);\n            this.setState({\n                cboxContents:newContent,\n                cboxOnPage: this.state.cboxOnPage,\n                lastIdx: this.state.lastIdx + newContent.length,\n                firstIdx: this.state.lastIdx + 1, // 비 동기적이므로 가능한 코드\n            });\n        }else if(this.state.lastIdx < this.props.cboxListMaxIdx){\n            newContent = this.props.callListContent(this.props.cboxListMaxIdx - this.state.lastIdx, this.state.lastIdx);\n            this.setState({\n                cboxContents:newContent,\n                cboxOnPage: this.state.cboxOnPage,\n                lastIdx: this.state.lastIdx + newContent.length,\n                firstIdx: this.state.lastIdx + 1,\n            });\n        }\n    }\n    onBtnPrevClick(){\n        var newContent = [];\n        if(this.state.firstIdx - this.state.cboxOnPage >= 0){\n            newContent = this.props.callListContent(this.state.cboxOnPage, (this.state.firstIdx-this.state.cboxOnPage -1));\n            this.setState({\n                cboxContents:newContent,\n                cboxOnPage: this.state.cboxOnPage,\n                lastIdx: this.state.firstIdx - 1,\n                firstIdx: this.state.firstIdx - newContent.length,\n            });\n        }else if(this.state.firstIdx > 0){\n            newContent = this.props.callListContent(this.state.firstIdx, -1);\n            this.setState({\n                cboxContents:newContent,\n                cboxOnPage: this.state.cboxOnPage,\n                lastIdx: this.state.firstIdx - 1,\n                firstIdx: this.state.firstIdx - newContent.length,\n            });\n        }\n    }\n\n    render(){\n        var CboxList = [];\n        for(var i = 0; i<this.state.cboxContents.length;i++){\n            CboxList.push(<Cbox \n                key={this.state.cboxContents[i].id} \n                id={this.state.cboxContents[i].id}\n                Main={this.state.cboxContents[i].writeMain} \n                Cmt={this.state.cboxContents[i].writeCmt}\n                Recomm={this.state.cboxContents[i].recomm}\n                onRecommClick={function(id){\n                    this.props.onRecommClick(id,this.state.firstIdx,this.state.lastIdx);\n                }.bind(this)}></Cbox>);\n        }\n        return(\n            <div>\n                {CboxList}\n                <button onClick={this.onBtnPrevClick}>이전</button>\n                <button onClick={this.onBtnNextClick}>다음</button>\n            </div>\n        );\n    }\n}\n\nexport default CboxList;"]},"metadata":{},"sourceType":"module"}